/* eslint-disable react/no-unescaped-entities */
"use client";
import React, { useState, useEffect } from "react";
import { useTheme } from "../../contexts/themeContext";

export default function LoadingScreen() {
  const [isVisible, setIsVisible] = useState(true);
  const [progress, setProgress] = useState(0);
  const { isDarkMode, baseColor } = useTheme();

  useEffect(() => {
    const interval = setInterval(() => {
      // Increment the progress by a certain amount
      setProgress((prevProgress) => {
        if (prevProgress < 100) {
          return prevProgress + 1.4; // Increase by 10% (adjust as needed)
        } else {
          clearInterval(interval); // Stop the interval when progress reaches 100%
          setIsVisible(false);
          return prevProgress;
        }
      });
    }, 100);
  }, []);

  return isVisible ? (
    <div
      className={`fixed top-0 left-0 z-50 ${
        isDarkMode ? `${baseColor}` : "bg-white"
      } w-full h-full`}
    >
      <section className="section relative w-full h-full">
        {" "}
        <div
          className={`   animate__animated text-xl flex w-full h-full justify-center items-center ${
            progress > 94 ? "animate__slideOutRight" : ""
          }`}
        >
          <div className="progress-cont w-4/5 md:w-1/2">
            <div
              className={`${
                isDarkMode ? "bg-[#11111150]" : "bg-gray-100"
              } progressguauge w-full h-1.5 rounded-full  overflow-hidden transition-all relative`}
            >
              <div
                className="progressbar absolute rounded-full h-full top-0 left-0 transition-all bg-[#79BD44]"
                style={{ width: `${progress}%` }}
              ></div>
            </div>
          </div>
        </div>{" "}
        <div
          className={`header  absolute w-full flex items-center justify-center font-bold pt-4  ${
            progress > 10 ? "top-0 " : "-top-20"
          }`}
        >
          <div
            className={` animate__faster animate__animated ${
              isDarkMode ? "text-white" : "text-black"
            } font-bold text-lg ${
              progress > 10 && progress <= 95 ? "animate__slideInDown" : ""
            } ${progress >= 95 ? "animate__slideOutUp" : ""}`}
          >
            <svg
              width="132"
              height="23"
              viewBox="0 0 132 23"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M1 2C0.447715 2 0 2.44772 0 3V22C0 22.5523 0.447716 23 1 23H9.95228V14.145H12.5713V23H21C21.5523 23 22 22.5523 22 22V3C22 2.44772 21.5523 2 21 2H1ZM9.95228 10.5H12.5713V13.1036H9.95228V10.5Z"
                fill="#79BD44"
              />
              <path
                d="M25.9248 20.0439C25.6084 20.0439 25.3711 20 25.2129 19.9121C25.0605 19.8242 24.9844 19.6982 24.9844 19.5342V9.53223C24.9844 9.18652 25.2979 9.01367 25.9248 9.01367H26.4697C26.792 9.01367 27.0264 9.05762 27.1729 9.14551C27.3252 9.2334 27.4014 9.3623 27.4014 9.53223V19.5342C27.4014 19.874 27.0908 20.0439 26.4697 20.0439H25.9248ZM32.4287 20.0264C31.8018 20.0264 31.4883 19.8623 31.4883 19.5342V11.1055H29.0098C28.8457 11.1055 28.7256 11.0439 28.6494 10.9209C28.5791 10.7979 28.5439 10.5986 28.5439 10.3232V9.84863C28.5439 9.57324 28.5791 9.37402 28.6494 9.25098C28.7256 9.12793 28.8457 9.06641 29.0098 9.06641H36.4014C36.5654 9.06641 36.6826 9.12793 36.7529 9.25098C36.8291 9.37402 36.8672 9.57324 36.8672 9.84863V10.3232C36.8672 10.5986 36.8291 10.7979 36.7529 10.9209C36.6826 11.0439 36.5654 11.1055 36.4014 11.1055H33.9141V19.5342C33.9141 19.8623 33.6006 20.0264 32.9736 20.0264H32.4287ZM39.0117 20.0264C38.3848 20.0264 38.0713 19.8623 38.0713 19.5342V9.68164C38.0713 9.46484 38.1211 9.30957 38.2207 9.21582C38.3203 9.11621 38.4785 9.06641 38.6953 9.06641H41.7451C44.335 9.06641 45.6299 10.042 45.6299 11.9932C45.6299 12.585 45.4629 13.0947 45.1289 13.5225C44.8008 13.9502 44.3584 14.2695 43.8018 14.4805V14.542C43.9951 14.624 44.1973 14.7998 44.4082 15.0693C44.625 15.3389 44.7979 15.6436 44.9268 15.9834L46.3066 19.4199C46.3535 19.5605 46.377 19.6602 46.377 19.7188C46.377 19.9238 46.0664 20.0264 45.4453 20.0264H44.8037C44.2822 20.0264 43.9805 19.918 43.8984 19.7012L42.6592 16.6514C42.542 16.417 42.4277 16.2354 42.3164 16.1064C42.2109 15.9775 42.0615 15.8809 41.8682 15.8164C41.6748 15.7461 41.4141 15.7109 41.0859 15.7109H40.4795V19.5342C40.4795 19.8623 40.166 20.0264 39.5391 20.0264H39.0117ZM41.9561 13.6367C42.167 13.6367 42.3662 13.5781 42.5537 13.4609C42.7412 13.3379 42.8906 13.1738 43.002 12.9688C43.1133 12.7637 43.1689 12.5381 43.1689 12.292C43.1689 11.9287 43.0488 11.6416 42.8086 11.4307C42.5742 11.2139 42.2549 11.1055 41.8506 11.1055H40.4795V13.6367H41.9561ZM52.0986 20.1318C51.1494 20.1318 50.335 19.9824 49.6553 19.6836C48.9814 19.3848 48.4658 18.9541 48.1084 18.3916C47.751 17.8232 47.5723 17.1406 47.5723 16.3438V9.53223C47.5723 9.3623 47.6484 9.23633 47.8008 9.1543C47.9531 9.06641 48.1904 9.02246 48.5127 9.02246H49.04C49.3623 9.02246 49.5967 9.06641 49.7432 9.1543C49.8955 9.23633 49.9717 9.3623 49.9717 9.53223V16.1855C49.9717 16.5488 50.0596 16.874 50.2354 17.1611C50.417 17.4482 50.6689 17.6738 50.9912 17.8379C51.3135 17.9961 51.6826 18.0752 52.0986 18.0752C52.5146 18.0752 52.8838 17.9961 53.2061 17.8379C53.5342 17.6738 53.7891 17.4482 53.9707 17.1611C54.1523 16.874 54.2432 16.5488 54.2432 16.1855V9.53223C54.2432 9.3623 54.3164 9.23633 54.4629 9.1543C54.6152 9.06641 54.8525 9.02246 55.1748 9.02246H55.6934C56.0156 9.02246 56.25 9.06641 56.3965 9.1543C56.5488 9.23633 56.625 9.3623 56.625 9.53223V16.3438C56.625 17.1406 56.4463 17.8232 56.0889 18.3916C55.7314 18.9541 55.2129 19.3848 54.5332 19.6836C53.8594 19.9824 53.0479 20.1318 52.0986 20.1318ZM61.6787 20.1318C60.9404 20.1318 60.29 20.0586 59.7275 19.9121C59.1709 19.7598 58.7432 19.5752 58.4443 19.3584C58.1514 19.1416 58.0049 18.9365 58.0049 18.7432C58.0049 18.5908 58.0605 18.4033 58.1719 18.1807C58.2891 17.958 58.4268 17.7676 58.585 17.6094C58.7432 17.4453 58.875 17.3633 58.9805 17.3633C59.0449 17.3633 59.1826 17.4189 59.3936 17.5303C59.71 17.6943 60.0088 17.8262 60.29 17.9258C60.5771 18.0254 60.9053 18.0752 61.2744 18.0752C61.6846 18.0752 62.0303 17.9961 62.3115 17.8379C62.5986 17.6738 62.7422 17.3896 62.7422 16.9854C62.7422 16.751 62.6689 16.5488 62.5225 16.3789C62.376 16.209 62.1885 16.0654 61.96 15.9482C61.7314 15.8311 61.4209 15.6934 61.0283 15.5352L60.334 15.2363C59.9121 15.0312 59.5488 14.8057 59.2441 14.5596C58.9453 14.3135 58.6992 13.9883 58.5059 13.584C58.3184 13.1797 58.2246 12.6846 58.2246 12.0986C58.2246 11.3838 58.4004 10.7891 58.752 10.3145C59.1035 9.83984 59.5605 9.49121 60.123 9.26855C60.6855 9.0459 61.2891 8.93457 61.9336 8.93457C62.4609 8.93457 62.9385 8.99023 63.3662 9.10156C63.7939 9.20703 64.1279 9.34473 64.3682 9.51465C64.6143 9.68457 64.7373 9.85449 64.7373 10.0244C64.7373 10.165 64.6904 10.3467 64.5967 10.5693C64.5088 10.7861 64.3975 10.9766 64.2627 11.1406C64.1279 11.3047 64.002 11.3867 63.8848 11.3867C63.832 11.3867 63.7383 11.3574 63.6035 11.2988C63.3867 11.2109 63.167 11.1406 62.9443 11.0879C62.7275 11.0293 62.4609 11 62.1445 11C61.5996 11 61.2217 11.0879 61.0107 11.2637C60.7998 11.4336 60.6943 11.6357 60.6943 11.8701C60.6943 12.1396 60.7646 12.3652 60.9053 12.5469C61.0518 12.7285 61.2334 12.8779 61.4502 12.9951C61.6729 13.1123 61.9805 13.2471 62.373 13.3994C62.9648 13.6514 63.4482 13.8916 63.8232 14.1201C64.1982 14.3428 64.5205 14.665 64.79 15.0869C65.0654 15.5088 65.2031 16.0479 65.2031 16.7041C65.2031 17.5068 65.0332 18.166 64.6934 18.6816C64.3594 19.1914 63.9258 19.5605 63.3926 19.7891C62.8652 20.0176 62.2939 20.1318 61.6787 20.1318ZM69.501 20.0264C68.874 20.0264 68.5605 19.8623 68.5605 19.5342V11.1055H66.082C65.918 11.1055 65.7979 11.0439 65.7217 10.9209C65.6514 10.7979 65.6162 10.5986 65.6162 10.3232V9.84863C65.6162 9.57324 65.6514 9.37402 65.7217 9.25098C65.7979 9.12793 65.918 9.06641 66.082 9.06641H73.4736C73.6377 9.06641 73.7549 9.12793 73.8252 9.25098C73.9014 9.37402 73.9395 9.57324 73.9395 9.84863V10.3232C73.9395 10.5986 73.9014 10.7979 73.8252 10.9209C73.7549 11.0439 73.6377 11.1055 73.4736 11.1055H70.9863V19.5342C70.9863 19.8623 70.6729 20.0264 70.0459 20.0264H69.501Z"
                fill={`${isDarkMode ? "white" : "#222"}`}
              />
              <path
                d="M79.9072 20.1318C78.1494 20.1318 76.8516 19.6748 76.0137 18.7607C75.1816 17.8467 74.7656 16.4258 74.7656 14.498C74.7656 10.7891 76.5059 8.93457 79.9863 8.93457C80.4609 8.93457 80.9531 8.98145 81.4629 9.0752C81.9727 9.16895 82.3975 9.30078 82.7373 9.4707C83.083 9.63477 83.2559 9.81934 83.2559 10.0244C83.2559 10.1709 83.1973 10.3643 83.0801 10.6045C82.9629 10.8389 82.8223 11.0469 82.6582 11.2285C82.5 11.4102 82.3594 11.501 82.2363 11.501C82.207 11.501 82.1279 11.4717 81.999 11.4131C81.7178 11.2959 81.4219 11.1992 81.1113 11.123C80.8066 11.041 80.417 11 79.9424 11C79.0225 11 78.3398 11.293 77.8945 11.8789C77.4551 12.459 77.2354 13.3379 77.2354 14.5156C77.2354 15.6934 77.458 16.5811 77.9033 17.1787C78.3486 17.7764 79.0166 18.0752 79.9072 18.0752C80.3701 18.0752 80.7715 18.0283 81.1113 17.9346C81.457 17.8408 81.7939 17.7207 82.1221 17.5742C82.1396 17.5684 82.1924 17.5479 82.2803 17.5127C82.3682 17.4717 82.4326 17.4512 82.4736 17.4512C82.626 17.4512 82.7725 17.542 82.9131 17.7236C83.0537 17.8994 83.168 18.1016 83.2559 18.3301C83.3438 18.5527 83.3877 18.7139 83.3877 18.8135C83.3877 19.1006 83.1943 19.3438 82.8076 19.543C82.4268 19.7422 81.9639 19.8916 81.4189 19.9912C80.8799 20.085 80.376 20.1318 79.9072 20.1318ZM84.7061 20.0264C84.0674 20.0264 83.748 19.9121 83.748 19.6836C83.748 19.6191 83.7686 19.5254 83.8096 19.4023L87.2549 9.35645C87.3369 9.13379 87.6328 9.02246 88.1426 9.02246H88.9512C89.4609 9.02246 89.7568 9.13379 89.8389 9.35645L93.2842 19.4023C93.3135 19.5195 93.3281 19.6133 93.3281 19.6836C93.3281 19.8008 93.2637 19.8887 93.1348 19.9473C93.0117 20 92.8154 20.0264 92.5459 20.0264H91.8604C91.6143 20.0264 91.415 20.0029 91.2627 19.9561C91.1162 19.9033 91.0254 19.8184 90.9902 19.7012L90.3574 17.7939H86.6748L86.042 19.7012C85.9775 19.918 85.7373 20.0264 85.3213 20.0264H84.7061ZM89.6895 15.7285L88.8018 12.9512C88.749 12.8105 88.7021 12.6494 88.6611 12.4678C88.626 12.2861 88.5938 12.1133 88.5645 11.9492H88.5029L88.4678 12.1426C88.4092 12.4883 88.3418 12.7578 88.2656 12.9512L87.3428 15.7285H89.6895ZM95.3496 20.0264C94.7227 20.0264 94.4092 19.8623 94.4092 19.5342V9.68164C94.4092 9.46484 94.459 9.30957 94.5586 9.21582C94.6582 9.11621 94.8164 9.06641 95.0332 9.06641H98.3203C99.293 9.06641 100.154 9.30371 100.904 9.77832C101.654 10.2529 102.029 11.1553 102.029 12.4854C102.029 13.3994 101.812 14.1113 101.379 14.6211C100.945 15.125 100.456 15.4648 99.9111 15.6406C99.3721 15.8164 98.8916 15.9043 98.4697 15.9043H96.8174V19.5342C96.8174 19.8623 96.5039 20.0264 95.877 20.0264H95.3496ZM98.2061 13.8389C98.5811 13.8389 98.9004 13.7393 99.1641 13.54C99.4336 13.3408 99.5684 12.9893 99.5684 12.4854C99.5684 11.9756 99.4336 11.6182 99.1641 11.4131C98.8945 11.208 98.5752 11.1055 98.2061 11.1055H96.8174V13.8389H98.2061ZM104.165 20.0439C103.849 20.0439 103.611 20 103.453 19.9121C103.301 19.8242 103.225 19.6982 103.225 19.5342V9.53223C103.225 9.18652 103.538 9.01367 104.165 9.01367H104.71C105.032 9.01367 105.267 9.05762 105.413 9.14551C105.565 9.2334 105.642 9.3623 105.642 9.53223V19.5342C105.642 19.874 105.331 20.0439 104.71 20.0439H104.165ZM110.669 20.0264C110.042 20.0264 109.729 19.8623 109.729 19.5342V11.1055H107.25C107.086 11.1055 106.966 11.0439 106.89 10.9209C106.819 10.7979 106.784 10.5986 106.784 10.3232V9.84863C106.784 9.57324 106.819 9.37402 106.89 9.25098C106.966 9.12793 107.086 9.06641 107.25 9.06641H114.642C114.806 9.06641 114.923 9.12793 114.993 9.25098C115.069 9.37402 115.107 9.57324 115.107 9.84863V10.3232C115.107 10.5986 115.069 10.7979 114.993 10.9209C114.923 11.0439 114.806 11.1055 114.642 11.1055H112.154V19.5342C112.154 19.8623 111.841 20.0264 111.214 20.0264H110.669ZM115.556 20.0264C114.917 20.0264 114.598 19.9121 114.598 19.6836C114.598 19.6191 114.618 19.5254 114.659 19.4023L118.104 9.35645C118.187 9.13379 118.482 9.02246 118.992 9.02246H119.801C120.311 9.02246 120.606 9.13379 120.688 9.35645L124.134 19.4023C124.163 19.5195 124.178 19.6133 124.178 19.6836C124.178 19.8008 124.113 19.8887 123.984 19.9473C123.861 20 123.665 20.0264 123.396 20.0264H122.71C122.464 20.0264 122.265 20.0029 122.112 19.9561C121.966 19.9033 121.875 19.8184 121.84 19.7012L121.207 17.7939H117.524L116.892 19.7012C116.827 19.918 116.587 20.0264 116.171 20.0264H115.556ZM120.539 15.7285L119.651 12.9512C119.599 12.8105 119.552 12.6494 119.511 12.4678C119.476 12.2861 119.443 12.1133 119.414 11.9492H119.353L119.317 12.1426C119.259 12.4883 119.191 12.7578 119.115 12.9512L118.192 15.7285H120.539ZM125.883 20C125.666 20 125.508 19.9502 125.408 19.8506C125.309 19.751 125.259 19.5928 125.259 19.376V9.53223C125.259 9.3623 125.335 9.23633 125.487 9.1543C125.64 9.06641 125.877 9.02246 126.199 9.02246H126.727C127.049 9.02246 127.286 9.06641 127.438 9.1543C127.591 9.23633 127.667 9.3623 127.667 9.53223V17.9521H131.147C131.312 17.9521 131.429 18.0137 131.499 18.1367C131.575 18.2598 131.613 18.4561 131.613 18.7256V19.2178C131.613 19.4932 131.575 19.6924 131.499 19.8154C131.429 19.9385 131.312 20 131.147 20H125.883Z"
                fill="#79BD44"
              />
            </svg>
          </div>
        </div>
        <div
          className={`messages absolute w-full flex items-center justify-center pb-4 ${
            progress > 10 ? "bottom-0" : "-bottom-20"
          }`}
        >
          {progress <= 40 && (
            <div
              className={`text-sm md:text-base rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 10 && progress <= 35 ? "animate__slideInUp" : ""
              } ${progress >= 35 ? "animate__slideOutDown" : ""}`}
            >
              HeyðŸ‘‹ Nice seeing you
            </div>
          )}
          {progress > 40 && progress <= 85 && (
            <div
              className={`text-sm md:text-base rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 40 && progress <= 82 ? "animate__slideInUp" : ""
              } ${progress >= 82 ? "animate__slideOutDown" : ""}`}
            >
              <div className="flex items-center">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  className="w-5 h-5 animate-spin mr-2"
                >
                  <path
                    fillRule="evenodd"
                    d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z"
                    clipRule="evenodd"
                  />
                </svg>

                <div className="div">Setting up the page...</div>
              </div>
            </div>
          )}
          {progress > 85 && (
            <div
              className={`text-sm md:text-base flex items-center rounded-full animate__faster animate__animated py-3 px-4 font-bold ${
                isDarkMode
                  ? `bg-[#111] text-white shadw-[0px_2px_20px_10px_#f7fafc09]`
                  : "bg-white shadow-[0px_0px_15px_10px_#00000009]"
              }  ${
                progress > 85 && progress <= 95 ? "animate__slideInUp" : ""
              }${progress >= 95 ? "animate__slideOutDown" : ""}`}
            >
              <div className="icon">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  className="w-5 h-5 mr-2 text-green-500"
                >
                  <path
                    fillRule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                    clipRule="evenodd"
                  />
                </svg>
              </div>
              <div className="message"> Your page is ready</div>
            </div>
          )}
        </div>
      </section>{" "}
    </div>
  ) : null;
}
